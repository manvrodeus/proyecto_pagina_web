{% extends 'core/base.html' %}
{% load static %}
{% load custom_filters %}

{% block content %}
<br>
    <div class="fondo">
        <form id="form" method="POST" enctype="multipart/form-data">
            <div class="container-fluid" style="border-radius: 10px; padding: 50px; text-align: center; border: 1px solid #ccc;">
            <h2>Mis Datos</h2>
            {% csrf_token %}
            <div class="row">
                <!-- AREA DE DATOS BASICOS: username, nombre, apellidos, correo y contraseñas -->
                <div class="col-sm-12 col-md-4" style="border-radius: 10px; padding: 30px; font-weight: bold;">
                {{ form_usuario|as_bootstrap_form:'help_text_visible=False' }}
                </div>
                <!-- AREA DE DATOS DE PERFIL: rut, dirección y subscrito (VER COMENTARIO "CHECKBOX SUBSCRITO" en script.js)  -->
                <div class="col-sm-12 col-md-5" style=" padding: 30px; font-weight: bold;">
                {{ form_perfil|as_bootstrap_form }}
                </div>
                <!-- AREA DE IMAGEN DE PERFIL -->
                <div class="col-sm-12 col-md-3 text-center">
                <div class="row">
                    <!-- AREA DE CUADRO DE IMAGEN: Muestra la Imagen de perfil -->
                    <div class="col-sm-12" style="height: 220px">
                    {% if form_perfil.instance.imagen %}
                    <img id="cuadro-imagen" src="{{ form_perfil.instance.imagen.url }}" class="foto_img">
                    {% endif %}
                    </div>
                </div>
                </div>
            </div>
            <!-- AREA DE BOTONES -->
            <div class="mt-2 text-center">
            <button type="submit" class="btn btn-success"> Actualizar mis datos </button>
            <!-- AREA DE BOTON DE SELECCIONAR IMAGEN: Reemplaza el botón "Seleccionar archivo" por otro con Bootstrap (VER COMENTARIO "BOTON IMAGEN" en script.js) -->
            <button onclick="event.preventDefault(); document.getElementById('id_imagen').click();" class="btn btn-primary"> Seleccionar imagen </button>  
            </div>
            </div>
        </form>
    </div>

{% endblock content %}

{% block script %}
  <script src="{% static 'core/js/misdatos.js' %}"></script>
{% endblock script %}
